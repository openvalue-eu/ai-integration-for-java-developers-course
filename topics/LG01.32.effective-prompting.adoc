== Effective Prompting Fundamentals
:imagesdir: ../images
:topic: 2

[.notes]
--
_topicStart:Module-{module}-Topic-{topic}-Day-{day}_
--

image::prompt-writing.png[]

=== The Comment-Driven Development Approach
[.notes]
--
**Instructor Notes:** Demonstrate live. Show how comment quality affects suggestion quality.
--

**Traditional:**
```java
public class UserService {
    // TODO: implement user validation
}
```

**AI-Assisted:**
```java
public class UserService {
    // Validate user input: check email format,
    // password strength (min 8 chars, 1 uppercase, 1 number),
    // username uniqueness. Return validation errors as a list.

    // Copilot generates complete implementation ↓
}
```


**Key Principles:**
[%step]
--
- Write clear, specific comments describing intent
- Include input/output examples
- Specify error handling requirements
- Mention framework/library preferences (Spring, JPA, etc.)
--

=== Anatomy of an Effective Prompt

[.notes]
--
This structure applies to comments, chat, and general AI interaction
--

**The 5 Elements:**
[%step]
--
1. **Context**: What are we building?
2. **Action**: What should the code do?
3. **Constraints**: Any requirements or limitations?
4. **Format**: Expected input/output structure
5. **Examples**: Show what you mean (optional)
--

=== Context Matters: File and Project Context
[.notes]
--
**Instructor Notes:** Explain the importance of context regarding effective prompting. It could be handy to use Masked and Autoregressive explain how they react differently to prompting.
--
**Key Points to Cover:**
[%step]
--
- Copilot analyzes current file
- Scans open tabs for context
- Understands project structure
- Recognizes frameworks (Spring Boot, Hibernate)
- Adapts to coding style
--

=== Example: Poor vs. Good Prompts

[.notes]
--
**Instructor Notes:**
[%step]
--
- Show live: Type poor prompt, then good prompt
- Demonstrate the difference in quality
--
--

**❌ Poor Prompt:**
```java
// create method for users
```

**✅ Good Prompt:**
```java
// Create a method that retrieves a paginated list of users
// from the database. Parameters: page number (0-indexed),
// page size (max 100). Return a Page<UserDTO> with total count.
// Throw UserServiceException if page parameters are invalid.
```

**Result:** Complete, accurate implementation with error handling

=== Prompt Engineering Principles

**1. Be Explicit, Not Implicit**
```java
// Bad: "validate the input"
// Good: "validate that email matches RFC 5322,
//       phone follows E.164 format"
```

**2. Break Complex Tasks Down**
```java
// Instead of: "create complete user registration system"
// Do: Step 1: "create UserRegistrationRequest DTO with validation"
//     Step 2: "create registration service method"
//     Step 3: "create REST endpoint with proper error handling"
```

[.notes]
--
Incremental approach = better results
--

**3. Provide Examples When Needed**
```java
// Generate a builder for Asset class following this pattern:
// Example: User.builder()
//              .name("John")
//              .email("john@example.com")
//              .build();
```

**4. Specify Framework Conventions**
```java
// Create a Spring Boot REST controller for Products
// Use @RestController, @RequestMapping("/api/v1/products")
// Follow standard HTTP methods (GET, POST, PUT, DELETE)
// Return ResponseEntity with appropriate status codes
```

[.notes]
--
Framework specificity prevents outdated or incorrect patterns
--

=== Common Pitfalls to Avoid

**Pitfall 1: Vague Requirements**
```java
// Get user data ← Too vague
// Retrieve user by ID from database, including their roles
// and last login timestamp ← Better
```

**Pitfall 2: Missing Context**
```java
// Without context: Copilot might generate SQL
// With context (in a JPA repository): Generates JPQL
```

**Pitfall 3: Accepting First Suggestion**
```java
// Try: Generate 3 different suggestions
// Tab through alternatives
// Or use Chat to refine
```

[.notes]
--
Emphasize: Iteration is normal and expected
--

=== Discussion: Prompt Engineering Challenges
[.notes]
--
**Instructor Notes:** 5 min discussion. Collect examples of prompts that didn't work well.
--

image::discussion-5.jpg[]

**Discussion Prompt:**
"What makes a prompt too vague vs. too specific? How do you find the balance?"

**Common Concerns to Address:**
[%step]
--
- "Copilot suggests wrong framework?" - Be explicit in comments (e.g., "using Spring Data JPA")
- "Getting generic code?" - Add more context, specify constraints
- "Suggestions don't match our style?" - Copilot learns from surrounding code
--